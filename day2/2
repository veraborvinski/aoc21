#include <stdio.h>
#include <string.h>

int main(){

	 FILE *fp = fopen( "input.txt", "r" );
    int number;
    char instruction[10];
    int hor;
    int dept;
    int prod;
    int aim;
    if (fp!=NULL) 
    {
        while(fscanf(fp, "%s %d", instruction, &number) == 2)
        {
    
           if (strcmp(instruction, "forward")==0)
           {
               hor += number;
               dept += aim*number;
           }
           else if (strcmp(instruction, "up")==0)
           {
               aim -= number;
           }
           else if (strcmp(instruction, "down")==0)
           {
               aim += number;
           }
            
        }
        prod = hor*dept;
        printf("prod: %d\n", prod);
        fclose (fp);
    }
	return 0;
}
